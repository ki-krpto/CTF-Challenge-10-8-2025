<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Lila Blackwood's Encrypted Journal</title>
<style>
body {
  background:#111;
  color:#eee;
  font-family:Georgia, 'Times New Roman', serif;
  padding:28px;
  transition: all 0.05s ease-out;
}
.wrap {
  max-width:780px;
  margin:0 auto;
  background:#1a1a1a;
  padding:18px;
  border-radius:6px;
  border:1px solid #333;
}
img {
  max-width:100%;
  height:auto;
  border-radius:4px;
  border:1px solid #555;
}
.note {
  background:#222;
  padding:10px;
  border-left:4px solid #880000;
  margin:10px 0;
  color:#eee;
}
.lead {
  color:#ccc;
}
button {
  margin-top:10px;
  padding:10px 14px;
  background:#880000;
  color:#fff;
  border-radius:6px;
  border:none;
  font-family: 'Courier New', monospace;
  cursor:pointer;
  font-weight:bold;
  text-shadow: 0 0 4px #000;
}
button:hover {
  background:#aa0000;
}
input[type="text"] {
  padding:8px 12px;
  border-radius:6px;
  border:1px solid #555;
  background:#222;
  color:#eee;
  font-family: 'Courier New', monospace;
  margin-right:6px;
}
label {
  font-family: 'Courier New', monospace;
}
audio {
  display:none;
}
</style>
</head>
<body>
<div class="wrap">
  <h1>Lila Blackwood's Scrambled Notes</h1>
  <p class="lead">A fragmented journal page recovered from a broken link. Review the artifacts closely — everything may be a clue.</p>
  
  <article>
    <h2>Journal Entry — Fragment 10.13</h2>
    <p>I keep hearing frequencies in the walls — it's like white noise, but with numbers. The time is wrong; the clock keeps resetting. I tried to correct the time to the designated date, but it snaps back to a constant state. I can't trust my memory of the dates anymore.</p>

    <!-- Artifact #1: Planner Screenshot -->
    <div class="note">
      <strong>Artifact #1: Planner Screenshot</strong><br>
      A screenshot of an online planner. October 10th is circled; it may be a cipher. This was one of Lila's final messages before she disappeared.
    </div>
    <figure>
      <img src="Calendar.png" alt="Online planner screenshot"/>
      <figcaption><small>Inspect the circled date carefully — it may hold a hidden message.</small></figcaption>
    </figure>

    <!-- Artifact #2: Encrypted Voice Log -->
    <div class="note">
      <strong>Artifact #2: Encrypted Voice Log</strong><br>
      A distorted audio recording left as a self-reminder. Its hidden Morse code may reveal a key message.
    </div>
    <button onclick="document.getElementById('morseAudio').play()">▶ PLAY LAST MESSAGE</button>
    <audio id="morseAudio">
      <source src="morse1.wav" type="audio/wav">
      Your browser cannot play the audio.
    </audio>

    <!-- Passcode input -->
    <div class="note" style="margin-top:20px;">
      <label for="passcode">Enter Passcode:</label>
      <input type="text" id="passcode" placeholder="Enter code here">
      <button onclick="checkPasscode()">Submit</button>
    </div>

    <hr>
    <p><small>Fictional content for an educational OSINT exercise.</small></p>
  </article>
</div>

<script>
/** Glitch streaks for horror effect */
function createGlitchStreak() {
    const streak = document.createElement('div');
    const height = Math.random() * 8 + 2;
    const topPosition = Math.random() * window.innerHeight;
    streak.style.cssText = `
        position: fixed;
        left: 0;
        top: ${topPosition}px;
        width: 100%;
        height: ${height}px;
        background: rgba(255,0,0,0.5);
        box-shadow: 0 0 ${height/2}px rgba(255,0,0,0.2);
        z-index: 99999;
        pointer-events: none;
        opacity:1;
        transition:opacity 0.01s;
    `;
    document.body.appendChild(streak);
    setTimeout(() => { streak.style.opacity='0'; setTimeout(()=>streak.remove(),20); }, Math.random()*30+10);
}

function startFlicker() {
    setInterval(() => {
        const burstDuration = Math.floor(Math.random()*8)+3;
        for(let i=0;i<burstDuration;i++){
            setTimeout(createGlitchStreak, Math.random()*150);
        }
    },200);
}
window.onload = startFlicker;

/** Passcode check */
function checkPasscode(){
    const input = document.getElementById('passcode').value.trim();
    const correct = "ARCHIVE1013"; // your code
    if(input.toUpperCase() === correct){
        window.location.href = "https://ki-krpto.github.io/CTF-Challenge-10-8-2025/archive/";
    } else {
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ"; // rickroll
    }
}
</script>
</body>
</html>
